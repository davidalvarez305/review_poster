{% extends "blog/base.html" %}
{% load static %}
{% block content %}
	<section class="contact-section">
		<div class="auto-container">
			<div class="col-lg-10 col-md-12 col-sm-12 offset-lg-1 big-column">
				<div class="form-inner">
					<form method="post" action="{{ crawler_api }}" id="create-review-post" class="default-form">
						<div class="row">
							<div class="short-box clearfix">
								<p>Short by</p>
								<div class="select-box">
									<select id="keyword" name="keyword" class="wide" required>
									   <option value="Popularity">Popularity</option>
									   <option value="1">New Collection</option>
									   <option value="2">Top Sell</option>
									   <option value="4">Top Ratted</option>
									</select>
								</div>
							</div>
							<div class="col-lg-12 col-md-12 col-sm-12 form-group">
								<textarea id="keyword" name="keyword" placeholder="Keyword..." required></textarea>
							</div>
							<div class="col-lg-12 col-md-12 col-sm-12 form-group message-btn centred">
								<button type="submit" class="theme-btn-two" id="form-submit" name="form-submit">Create Posts<i class="flaticon-right-1"></i></button>
							</div>
						</div>
					</form>
				</div>
			</div>
		</div>
	</section>
	
	<script>
        var createReviewPost = document.getElementById("create-review-post");

		createReviewPost.addEventListener("submit", function(event) {
			event.preventDefault();
			
			var form = event.target;
			var data = {
				group_name: form.group_name.value,
				keyword: form.keyword.value
			};
			
			fetch(form.action, {
				method: form.method,
				body: JSON.stringify(data),
				headers: {
					"Content-Type": "application/json"
				}
			}).then(function(response) {
				console.log(response);
			}).catch(function(error) {
				console.log(error);
			});
		});
	</script>
{% endblock %}